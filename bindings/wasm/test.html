<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>urbr example</title>
  </head>
  <body>
    <script type="module">
      import init, { UrbrFront } from './pkg/urbr_wasm.js'

      init().then(() => {
        const urbr           = new UrbrFront           (); // LSTM 수행하는 객체 만들기 (사람 당 한 개)
        const num_parameters = UrbrFront.num_parameters(); // LSTM 파라미터 개수 (number)
        const output         = UrbrFront.out_buffer    (); // LSTM 출력 버퍼 (Float32Array, 크기 100짜리)

        // Float32Array로 된 LSTM 파라미터
        // 실제로는 앱에 내장되어 있어야 함
        const parameters = new Float32Array(num_parameters);
        urbr.load(parameters);

        // LSTM 입력 데이터 (위도, 경도)
        const a = 100, b = 100;

        // LSTM 수행하고 나면 output에 100개가 담김
        urbr.forward(a, b, output);

        // output을 서버로 전송
        // 어쩌구저쩌구
      });
    </script>
  </body>
</html>
